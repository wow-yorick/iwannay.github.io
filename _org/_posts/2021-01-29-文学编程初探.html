<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-01-31 Sun 23:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>xx</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Vincent Zhang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../assets/themes/havee/css/style.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">xx</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5dee832">1. Python案例</a></li>
<li><a href="#org36c2960">2. shell案例</a></li>
<li><a href="#org66163eb">3. 其他语言</a></li>
<li><a href="#org1793bc4">4. 代码块设置</a>
<ul>
<li><a href="#org140cee2">4.1. 例子：dir参数</a></li>
</ul>
</li>
<li><a href="#orgb1773df">5. 设置头参数的位置</a></li>
<li><a href="#org5b99b8f">6. 太多参数了？</a></li>
<li><a href="#org86ca1f6">7. 设置某一标题下面所有代码块的默认头参数</a></li>
<li><a href="#orge7fa8cf">8. 指定特定语言的默认头参数</a></li>
<li><a href="#org1c3197f">9. 为文档内的所有代码块设置默认参数</a></li>
<li><a href="#org923bc79">10. 头参数的类型</a>
<ul>
<li><a href="#orgd3336db">10.1. 执行类参数</a></li>
<li><a href="#orgce00f19">10.2. 导出类参数</a></li>
<li><a href="#org027b2a8">10.3. 文学编程类参数</a></li>
<li><a href="#orgdc83719">10.4. 变脸类参数</a></li>
<li><a href="#org739c633">10.5. 杂类 输入/输出</a></li>
</ul>
</li>
<li><a href="#orgc7f6870">11. 执行类参数</a>
<ul>
<li><a href="#org3333c20">11.1. results参数</a>
<ul>
<li><a href="#org41ef23c">11.1.1. 是表达式的返回值呢？</a></li>
<li><a href="#orge8072c8">11.1.2. 还是代码的输出结果？</a></li>
</ul>
</li>
<li><a href="#org2d90a7a">11.2. 影响输出格式的结果</a></li>
<li><a href="#org952b5f3">11.3. 输出成列表</a></li>
<li><a href="#org2bacbb6">11.4. 原样输出</a></li>
</ul>
</li>
<li><a href="#orgd77127d">12. Session</a></li>
<li><a href="#org29bdc9e">13. Confusing Stuff</a>
<ul>
<li><a href="#org40f0adc">13.1. 将结果写入到文件中</a></li>
</ul>
</li>
<li><a href="#org632800a">14. 导出</a></li>
<li><a href="#org257d3c1">15. 文学编程</a>
<ul>
<li><a href="#org0b15cf0">15.1. Tangling 从org文件中抽取出源代码创建源码文件</a></li>
<li><a href="#org63aea39">15.2. 注释</a></li>
<li><a href="#org431e6c1">15.3. Shebang</a></li>
</ul>
</li>
</ul>
</div>
</div>
<pre class="example">
文学编程希望能做到写的程序适于阅读，文档描述能遵循问题的逻辑顺序，同时不受制于编程语言的缺陷
</pre>


<p>
支持LaTex
</p>

<dl class="org-dl">
<dt>Unicode References</dt><dd>for instance, &alpha;, &beta; and &gamma;.</dd>
<dt>Subscripts</dt><dd>like Hydrogen atoms, H<sub>2</sub>, and Water, H<sub>2</sub>O.</dd>
<dt>Superscripts</dt><dd>The mass of the sun is 1.989 x 10<sup>30</sup> kg.</dd>
<dt>Embedded Equations</dt><dd>Surrounded with either single <code>$</code>, like \(a^2=b\),</dd>
</dl>
<p>
or escaped parenthesis, like: \( b=\frac{1}{2} \)
</p>
<dl class="org-dl">
<dt>Separated equations</dt><dd>Either in double <code>$$</code> or escaped brackets, like</dd>
</dl>
<p>
this: \[ a=\frac{1}{2}\sqrt{2} \] or this: \[ a=-\sqrt{2} \] or this:
</p>
\begin{equation}
x=\sqrt{b}
\end{equation}

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">progn</span>
  <span style="color: #c678dd;">(</span><span style="color: #c678dd;">directory-files</span> <span style="color: #98be65;">"."</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: #c678dd;">print</span> <span style="color: #98be65;">"hello"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

</pre>
</div>


<ul class="org-ul">
<li>按下 <code>C-c C-c</code> 执行命令</li>
<li>按下 <code>C-c '(单引号)</code> 可以以指定的mode来编辑这段代码 (利用paredit插件来编写代码)</li>
</ul>


<div id="outline-container-org5dee832" class="outline-2">
<h2 id="org5dee832"><span class="section-number-2">1</span> Python案例</h2>
<div class="outline-text-2" id="text-1">
<p>
需要明确的 <code>return</code> 语句
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">from</span> os <span style="color: #51afef;">import</span> listdir
<span style="color: #51afef;">return</span> listdir<span style="color: #51afef;">(</span><span style="color: #98be65;">"."</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org36c2960" class="outline-2">
<h2 id="org36c2960"><span class="section-number-2">2</span> shell案例</h2>
<div class="outline-text-2" id="text-2">
<p>
shell使用输出到标准输入的内容作为结果
</p>
<div class="org-src-container">
<pre class="src src-shell">ls -l
</pre>
</div>

<p>
若按下 <code>C-c C-c</code> 没反映，需要执行 <code>M-x load-library &lt;RET&gt; ob-sh</code> 
</p>
</div>
</div>

<div id="outline-container-org66163eb" class="outline-2">
<h2 id="org66163eb"><span class="section-number-2">3</span> 其他语言</h2>
<div class="outline-text-2" id="text-3">
<p>
需要添加类似下面的配置到 <code>.emacs</code> 文件中:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #c678dd;">org-babel-do-load-languages</span>
 '<span style="color: #dcaeea;">org-babel-load-languages</span>
 '<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>sh         . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>js         . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>emacs-lisp . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>perl       . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>scala      . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>clojure    . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>python     . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>ruby       . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>dot        . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>css        . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span>
   <span style="color: #98be65;">(</span>plantuml   . <span style="color: #dcaeea;">t</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1793bc4" class="outline-2">
<h2 id="org1793bc4"><span class="section-number-2">4</span> 代码块设置</h2>
<div class="outline-text-2" id="text-4">
<p>
代码块可以有0个或者多个头参数
</p>
</div>

<div id="outline-container-org140cee2" class="outline-3">
<h3 id="org140cee2"><span class="section-number-3">4.1</span> 例子：dir参数</h3>
<div class="outline-text-3" id="text-4-1">
<p>
该参数会设置代码块执行的工作目录:
</p>
<div class="org-src-container">
<pre class="src src-shell">ls
</pre>
</div>

<p>
该参数可以通过Tramp实现在远程服务器上执行代码
</p>

<div class="org-src-container">
<pre class="src src-shell">hostname -f
</pre>
</div>

<pre class="example">
solid-10deMacBook-Pro.local
</pre>


<div class="org-src-container">
<pre class="src src-sh">hostname -f
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb1773df" class="outline-2">
<h2 id="orgb1773df"><span class="section-number-2">5</span> 设置头参数的位置</h2>
<div class="outline-text-2" id="text-5">
<p>
不同位置设置参数所影响的作用域不一样，下面以作用域从特殊到一般的顺序列出
</p>

<ul class="org-ul">
<li>头参数嵌入到代码块中，或者在代码块上面</li>
<li>设置某一标题下面所有代码块的默认头参数</li>
<li>设置整个文档中所有代码块的默认头参数</li>
<li>设置所有文档中所有代码块的默认头参数</li>
</ul>

<p>
若要设置所有文档的某个参数，可以设置下列参数:
</p>
<ul class="org-ul">
<li>org-babel-default-header-args</li>
<li>org-babel-default-header-args:&lt;lang&gt;</li>
</ul>

<p>
<code>注意:</code> 可以在代码块被调用时设置头参数
</p>
</div>
</div>

<div id="outline-container-org5b99b8f" class="outline-2">
<h2 id="org5b99b8f"><span class="section-number-2">6</span> 太多参数了？</h2>
<div class="outline-text-2" id="text-6">
<p>
若需要设置许多的参数，可以考虑将一个或多个参数放到代码块的上面去。 以下几个例子等价:
</p>

<div class="org-src-container">
<pre class="src src-sh">grep $<span style="color: #dcaeea;">USER</span> passwd
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">grep $<span style="color: #dcaeea;">USER</span> passwd
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">grep $<span style="color: #dcaeea;">USER</span> passwd
</pre>
</div>
</div>
</div>


<div id="outline-container-org86ca1f6" class="outline-2">
<h2 id="org86ca1f6"><span class="section-number-2">7</span> 设置某一标题下面所有代码块的默认头参数</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #ECBE7B;">File</span>.absolute_path<span style="color: #51afef;">(</span><span style="color: #98be65;">"."</span><span style="color: #51afef;">)</span>

</pre>
</div>

<p>
可以将头参数的设置放入标题下的属性drawer中
</p>

<ol class="org-ol">
<li>在org文件中创建一个标题</li>
<li>输入 <code>C-c C-x p</code></li>
<li>输入属性名称 :dir</li>
<li>输入属性值 /etc</li>
</ol>
</div>
</div>


<div id="outline-container-orge7fa8cf" class="outline-2">
<h2 id="orge7fa8cf"><span class="section-number-2">8</span> 指定特定语言的默认头参数</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-shell">ls -d $<span style="color: #51afef;">(</span><span style="color: #c678dd;">pwd</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #ECBE7B;">File</span>.absolute_path<span style="color: #51afef;">(</span><span style="color: #98be65;">"."</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
注意： 有些参数智能通过 <code>header-args</code> 的方式设置
</p>
</div>
</div>

<div id="outline-container-org1c3197f" class="outline-2">
<h2 id="org1c3197f"><span class="section-number-2">9</span> 为文档内的所有代码块设置默认参数</h2>
<div class="outline-text-2" id="text-9">
<p>
注意： 需要在设置项上执行 <code>C-c C-c</code> 否则该配置项不生效
</p>
</div>
</div>

<div id="outline-container-org923bc79" class="outline-2">
<h2 id="org923bc79"><span class="section-number-2">10</span> 头参数的类型</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orgd3336db" class="outline-3">
<h3 id="orgd3336db"><span class="section-number-3">10.1</span> 执行类参数</h3>
<div class="outline-text-3" id="text-10-1">
<p>
以 <code>dir</code> 为代表，这类参数影响代码块如何执行
</p>
</div>
</div>

<div id="outline-container-orgce00f19" class="outline-3">
<h3 id="orgce00f19"><span class="section-number-3">10.2</span> 导出类参数</h3>
<div class="outline-text-3" id="text-10-2">
<p>
影响了把org文件导出成HTML(或其他格式)时，代码块以及代码块的执行结果如何展示
</p>
</div>
</div>

<div id="outline-container-org027b2a8" class="outline-3">
<h3 id="org027b2a8"><span class="section-number-3">10.3</span> 文学编程类参数</h3>
<div class="outline-text-3" id="text-10-3">
<p>
将代码块连接起来，可能会改变实际的源代码
</p>
</div>
</div>

<div id="outline-container-orgdc83719" class="outline-3">
<h3 id="orgdc83719"><span class="section-number-3">10.4</span> 变脸类参数</h3>
<div class="outline-text-3" id="text-10-4">
<p>
通过不同方式设置代码块终端变脸
</p>
</div>
</div>

<div id="outline-container-org739c633" class="outline-3">
<h3 id="org739c633"><span class="section-number-3">10.5</span> 杂类 输入/输出</h3>
<div class="outline-text-3" id="text-10-5">
<p>
其他参数
</p>
</div>
</div>
</div>

<div id="outline-container-orgc7f6870" class="outline-2">
<h2 id="orgc7f6870"><span class="section-number-2">11</span> 执行类参数</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org3333c20" class="outline-3">
<h3 id="org3333c20"><span class="section-number-3">11.1</span> results参数</h3>
<div class="outline-text-3" id="text-11-1">
</div>
<div id="outline-container-org41ef23c" class="outline-4">
<h4 id="org41ef23c"><span class="section-number-4">11.1.1</span> 是表达式的返回值呢？</h4>
</div>

<div id="outline-container-orge8072c8" class="outline-4">
<h4 id="orge8072c8"><span class="section-number-4">11.1.2</span> 还是代码的输出结果？</h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
以下Ruby代码块为例，默认情况下，得到的事最后表达式的返回结果
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #c678dd;">puts</span> <span style="color: #98be65;">'Hello World'</span>
5*6
</pre>
</div>

<p>
若将 <code>:results</code> 头参数的值改为 <code>output</code> ,则结果是程序的输出：
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #c678dd;">puts</span> <span style="color: #98be65;">'Hello World'</span>
5*6
</pre>
</div>

<p>
注意： sh代码块的 <code>:results</code> 默认值为 <code>output</code>
</p>
</div>
</div>
</div>

<div id="outline-container-org2d90a7a" class="outline-3">
<h3 id="org2d90a7a"><span class="section-number-3">11.2</span> 影响输出格式的结果</h3>
<div class="outline-text-3" id="text-11-2">
<p>
代码的执行结果会插入到文档中，它可能有以下几种格式的输出。
</p>

<dl class="org-dl">
<dt>table</dt><dd>若结果为单个数组，则插入一行，若结果为数组的数组，则插入一个表格</dd>
<dt>list</dt><dd>按照普通org-mode列表的格式插入一个无序列</dd>
<dt>verbatim</dt><dd>原样输出</dd>
<dt>file</dt><dd>将结果写入到文件中</dd>
<dt>html</dt><dd>认为执行结果是html代码，导出时原样导出</dd>
<dt>code</dt><dd>认为执行的结果还是原语言的代码</dd>
<dt>silent</dt><dd>只在mini-buffer中显示执行的结果</dd>
</dl>

<p>
之所以有这么多的变种，是因为执行结果本身也可以被导出，同时这些执行结果还能作为其他代码块的变量输入
</p>
</div>
</div>

<div id="outline-container-org952b5f3" class="outline-3">
<h3 id="org952b5f3"><span class="section-number-3">11.3</span> 输出成列表</h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #ECBE7B;">Dir</span>.entries<span style="color: #51afef;">(</span><span style="color: #98be65;">'.'</span><span style="color: #51afef;">)</span>.sort.select <span style="color: #51afef;">do</span> |file|
  file<span style="color: #51afef;">[</span>0<span style="color: #51afef;">]</span> != <span style="color: #98be65;">'.'</span>
<span style="color: #51afef;">end</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2bacbb6" class="outline-3">
<h3 id="org2bacbb6"><span class="section-number-3">11.4</span> 原样输出</h3>
<div class="outline-text-3" id="text-11-4">
<p>
shell命令和日志输出比较适合原样输出，例如：
</p>

<div class="org-src-container">
<pre class="src src-sh">ssh -v goblin.howardabrams.com ls mossandcrow
</pre>
</div>

<p>
OpenSSH<sub>6.6.1</sub>, OpenSSL 1.0.1f 6 Jan 2014
debug1: Reading configuration data /etc/ssh/ssh<sub>config</sub>
debug1: /etc/ssh/ssh<sub>config</sub> line 19: Applying options for *
debug1: Connecting to goblin.howardabrams.com [162.243.135.186] port 22.
debug1: Connection established.
debug1: identity file <i>home/howard</i>.ssh/id<sub>rsa</sub> type 1
debug1: identity file <i>home/howard</i>.ssh/id<sub>rsa</sub>-cert type -1
</p>
</div>
</div>
</div>


<div id="outline-container-orgd77127d" class="outline-2">
<h2 id="orgd77127d"><span class="section-number-2">12</span> Session</h2>
<div class="outline-text-2" id="text-12">
<p>
默认情况下，每个代码块在每次运行时都会重启自己的一个解释器.通过为 <code>:session</code> 头参数设置一个标签值，则所有拥有同一标签的代码块在运行时都在同一个解释器中
</p>

<p>
注意：不同代码块之间可以传递值
</p>

<p>
下面例子说明每个代码块执行时都会重启自己的解释器:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #dcaeea;">avar</span> = 42
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">avar /2
</pre>
</div>
</div>
</div>


<div id="outline-container-org29bdc9e" class="outline-2">
<h2 id="org29bdc9e"><span class="section-number-2">13</span> Confusing Stuff</h2>
<div class="outline-text-2" id="text-13">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #dcaeea;">NUM_USERS</span>=$<span style="color: #51afef;">(</span>grep <span style="color: #98be65;">'bash'</span> /etc/passwd | wc -l --<span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #c678dd;">echo</span> $<span style="color: #dcaeea;">NUM_USERS</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-ruby">21*2
</pre>
</div>

<p>
<code>警告</code>: 为整个section设置的 <code>：session</code> 参数会影响到每个代码块，而不管该代码块是哪种编程语言
</p>
</div>

<div id="outline-container-org40f0adc" class="outline-3">
<h3 id="org40f0adc"><span class="section-number-3">13.1</span> 将结果写入到文件中</h3>
<div class="outline-text-3" id="text-13-1">
<p>
创建并执行下面代码块块：
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #c678dd;">require</span> <span style="color: #98be65;">'prime'</span>
<span style="color: #ECBE7B;">Prime</span>.each<span style="color: #51afef;">(</span>5000<span style="color: #51afef;">)</span> <span style="color: #51afef;">do</span> |prime|
  <span style="color: #c678dd;">p</span> prime
<span style="color: #51afef;">end</span>
</pre>
</div>

<p>
<a href="primes.txt">primes.txt</a>
</p>

<p>
注意: <code>:file</code> 参数需要与 <code>:results output</code> 共用,因为它不知道以哪种格式输出内部值 
</p>
</div>
</div>
</div>

<div id="outline-container-org632800a" class="outline-2">
<h2 id="org632800a"><span class="section-number-2">14</span> 导出</h2>
<div class="outline-text-2" id="text-14">
<p>
按下 <code>C-c C-e h o</code> 会导出HTML文件，并用浏览器打开.
</p>

<p>
<code>:exports</code> 头参数指明了哪些内容会被导出:
</p>

<dl class="org-dl">
<dt>code</dt><dd>只导出代码</dd>
<dt>results</dt><dd>只导出结果</dd>
<dt>both</dt><dd>同时导出代码与结果</dd>
<dt>none</dt><dd>跳过代码块，什么都不导出</dd>
</dl>

<p>
注意: <code>:exports</code> 一般被设置成文件属性。
</p>

<p>
若导出成HTML时希望保持语法高亮，只需要加载 <code>htmlize</code> 库即可:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: #51afef;">require</span> '<span style="color: #a9a1e1;">htmlize</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org257d3c1" class="outline-2">
<h2 id="org257d3c1"><span class="section-number-2">15</span> 文学编程</h2>
<div class="outline-text-2" id="text-15">
</div>
<div id="outline-container-org0b15cf0" class="outline-3">
<h3 id="org0b15cf0"><span class="section-number-3">15.1</span> Tangling 从org文件中抽取出源代码创建源码文件</h3>
<div class="outline-text-3" id="text-15-1">
<p>
<code>:tangle</code> 参数会将所有同类语言的代码块中内容都写入指定的源码文件中
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #51afef;">while</span> s = gets
  <span style="color: #c678dd;">print</span> s ; puts
<span style="color: #51afef;">end</span>
</pre>
</div>

<p>
输入 <code>C-c C-v t</code> 生成double-space.rb文件
</p>

<p>
拥有相同 <code>:tangle</code> 值的代码块内容会按顺序写入到同一个文件中。若 <code>:tangle</code> 参数值为 <code>yes</code> 则写入的文件其名称与原org文件名称一样(后缀不一样)
</p>

<p>
也可以用 <code>PROPERTY</code> 来为整个文件的所有代码块指定一个值:
</p>

<pre class="example">
#+PROPERTY:  tangle ~/.emacs.d/lisp/bling-mode.el
</pre>
</div>
</div>

<div id="outline-container-org63aea39" class="outline-3">
<h3 id="org63aea39"><span class="section-number-3">15.2</span> 注释</h3>
<div class="outline-text-3" id="text-15-2">
<p>
若需要与他人分享代码，可以将文档内容转换成注释：
</p>

<p>
Precede each line in the text from standard in (or file) with the 
current line number. 
See <a href="http://benoithamelin.tumblr.com/ruby1line">one liners</a>.
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #51afef;">while</span> s = gets
  <span style="color: #c678dd;">puts</span> <span style="color: #98be65;">"</span><span style="color: #dcaeea;">#{$&lt;.file.lineno}</span><span style="color: #98be65;">:</span><span style="color: #dcaeea;">#{s}</span><span style="color: #98be65;">"</span>
<span style="color: #51afef;">end</span>
</pre>
</div>

<p>
<code>:comments</code> 参数指明了是否将以及如何将文档内容作为注释插入tangle出的代码，其值为org表示将文档内容作为org code来格式化再做为注释插入。
注意：只有代码块上面的内容才会作为注释插入
默认值为 <code>no</code> 意味着不插入任何注释
</p>
</div>
</div>

<div id="outline-container-org431e6c1" class="outline-3">
<h3 id="org431e6c1"><span class="section-number-3">15.3</span> Shebang</h3>
<div class="outline-text-3" id="text-15-3">
<p>
当创建脚本时，可以通过 <code>:shebang</code> 参数指定解释器(可以以代码块的header或文档属性的方式来指定)
</p>

<p>
Precede each line in the text from standard in (or file) with the
current line number.
See <a href="http://benoithamelin.tumblr.com/ruby1line">one liners</a>.
</p>

<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #51afef;">while</span> s = gets
  <span style="color: #c678dd;">puts</span> <span style="color: #98be65;">"</span><span style="color: #dcaeea;">#{$&lt;.file.lineno}</span><span style="color: #98be65;">: </span><span style="color: #dcaeea;">#{s}</span><span style="color: #98be65;">"</span>
<span style="color: #51afef;">end</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Vincent Zhang</p>
<p class="date">Created: 2021-01-31 Sun 23:03</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
